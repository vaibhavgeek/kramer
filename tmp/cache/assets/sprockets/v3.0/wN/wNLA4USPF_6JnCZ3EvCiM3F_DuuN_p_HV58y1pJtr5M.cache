I"ù(function() {
  var Internal;

  Internal = (function() {
    function Internal() {}

    Internal.action = function(actions, ticket, article, ui) {
      if (ui.permissionCheck('ticket.customer')) {
        return actions;
      }
      if (article.internal === true) {
        actions.push({
          name: 'set to public',
          type: 'public',
          icon: 'lock-open'
        });
      } else {
        actions.push({
          name: 'set to internal',
          type: 'internal',
          icon: 'lock'
        });
      }
      return actions;
    };

    Internal.perform = function(articleContainer, type, ticket, article, ui) {
      var internal;
      if (type !== 'internal' && type !== 'public') {
        return true;
      }
      internal = true;
      if (article.internal === true) {
        internal = false;
      }
      ui.lastAttributres.internal = internal;
      article.updateAttributes({
        internal: internal
      });
      if (internal) {
        articleContainer.addClass('is-internal');
      } else {
        articleContainer.removeClass('is-internal');
      }
      ui.render();
      return true;
    };

    return Internal;

  })();

  App.Config.set('100-Internal', Internal, 'TicketZoomArticleAction');

}).call(this);
:ET