# Logfile created on 2018-11-09 09:40:22 +0000 by logger.rb/56815
I, [2018-11-09T09:40:22.416336 #21642]  INFO -- : *** below you find the most recent exception thrown, this will be likely (but not certainly) the exception that made the application exit abnormally ***
E, [2018-11-09T09:40:22.416478 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
I, [2018-11-09T09:40:22.417968 #21642]  INFO -- : *** below you find all exception objects found in memory, some of them may have been thrown in your application, others may just be in memory because they are standard exceptions ***
E, [2018-11-09T09:40:22.418200 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-21642-pta7z3 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.418743 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A820181109-21642-c09fus (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.418836 #21642] ERROR -- : stream closed (IOError)

E, [2018-11-09T09:40:22.418956 #21642] ERROR -- : failed to allocate memory (NoMemoryError)

E, [2018-11-09T09:40:22.419025 #21642] ERROR -- : stack level too deep (SystemStackError)

E, [2018-11-09T09:40:22.419214 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-ttmija (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.419559 #21642] ERROR -- : exception reentered (fatal)

E, [2018-11-09T09:40:22.467740 #21642] ERROR -- : Bad file descriptor (Errno::EBADF)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:133:in `for_fd'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:133:in `block in close_io'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:132:in `upto'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:132:in `close_io'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:77:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:57:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.477799 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.478298 #21642] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.478407 #21642] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.478517 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:50.824374', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:50.823587' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:50.823652') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.478696 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:42.822218', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:42.821444' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:42.821505') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.478782 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.478903 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.954250 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.479076 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.479223 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.479342 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.479457 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.479582 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.479685 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.479962 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:34.820146', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:34.819549' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:34.819613') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.480036 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.480388 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.480650 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:26.818173', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:26.817486' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:26.817547') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.480720 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-n3fi7t (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/module/attribute_accessors.rb:63:in `logger'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/log_subscriber.rb:89:in `logger'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/log_subscriber.rb:83:in `finish'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:102:in `finish'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:46:in `block in finish'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:46:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:46:in `finish'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:27:in `ensure in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:27:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.481307 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.481537 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:18.815997', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:18.815325' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:18.815389') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.481693 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:10.813920', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:10.813280' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:10.813339') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.481779 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.481932 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.233848 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.482098 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.482243 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.482357 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.482479 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.482586 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.482694 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.483119 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-5mwwr2 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/visitor.rb:26:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/reduce.rb:14:in `visit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:799:in `block in inject_join'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `each_with_index'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `inject'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `inject_join'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:118:in `visit_Arel_Nodes_UpdateStatement'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/reduce.rb:14:in `visit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/reduce.rb:8:in `accept'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/determine_if_preparable_visitor.rb:8:in `accept'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:12:in `to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:140:in `update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:42:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:571:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/locking/optimistic.rb:9:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:293:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.483494 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:02.811917', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:02.811192' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:02.811251') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.483601 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.483740 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:54.810007', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:54.809352' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:54.809411') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.483831 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.484059 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:46.808041', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:46.807490' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:46.807547') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.484147 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.484235 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:38.806189', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:38.805406' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:38.805466') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.484303 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.484821 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1wqmwzj (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.484901 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-nhmu4k (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.484955 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-ciszu9 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485013 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A220181109-21642-eyb6rb (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485067 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-125v5gs (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485117 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-17i1cdl (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485184 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-4c8rv0 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485237 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-21642-1lcv1oo (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485283 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1xya2j7 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485336 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-5bqqql (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485385 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1yfza47 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485447 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-k55i2y (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485500 #21642] ERROR -- : No such file or directory @ rb_sysopen - /home/deployer/kramer/tmp/pids/scheduler.log (Errno::ENOENT)
/home/deployer/kramer/lib/core_ext/open-uri.rb:14:in `initialize'
/home/deployer/kramer/lib/core_ext/open-uri.rb:14:in `open'
/home/deployer/kramer/lib/core_ext/open-uri.rb:14:in `open'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:744:in `open_logfile'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:736:in `set_dev'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:671:in `initialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:387:in `new'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:387:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:339:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:339:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:22.485584 #21642] ERROR -- : exit (SystemExit)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:129:in `exit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:129:in `rescue in with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:123:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.485684 #21642] ERROR -- : ActiveRecord::StatementInvalid: PG::ConnectionBad: PQsocket() can't get socket descriptor: SELECT "schedulers".* FROM "schedulers" WHERE (active = 't') ORDER BY prio ASC
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
  /home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
  /home/deployer/kramer/app/models/scheduler.rb:42:in `block in threads'
  /home/deployer/kramer/app/models/scheduler.rb:30:in `loop'
  /home/deployer/kramer/app/models/scheduler.rb:30:in `threads'
  script/scheduler.rb:74:in `block in <top (required)>'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
  script/scheduler.rb:57:in `<top (required)>' (SystemExit)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:81:in `abort'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:81:in `rescue in kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:65:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.485756 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: SELECT "schedulers".* FROM "schedulers" WHERE (active = 't') ORDER BY prio ASC (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:42:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:30:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:30:in `threads'
script/scheduler.rb:74:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:57:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.485923 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:42:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:30:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:30:in `threads'
script/scheduler.rb:74:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:57:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.486044 #21642] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:35:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:30:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:30:in `threads'
script/scheduler.rb:74:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:57:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.486243 #21642] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:281:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.486329 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.486387 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.486471 #21642] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:281:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.486554 #21642] ERROR -- : PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: SELECT "channels".* FROM "channels" WHERE (active = 't' AND area LIKE '%::Account') (ActiveRecord::StatementInvalid)
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.486624 #21642] ERROR -- : PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::ConnectionBad)
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.486723 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:40:14.830446', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:40:14.829691' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:40:14.829760') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.486795 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.486880 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-14r296a (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/nodes/select_statement.rb:15:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/select_manager.rb:12:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/select_manager.rb:12:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:940:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:940:in `build_arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:918:in `arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:579:in `block in to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:223:in `unprepared_statement'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:578:in `to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:99:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.487100 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.817159 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.487272 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.487382 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.487499 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.487600 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.487705 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.487804 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.488225 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:40:06.828416', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:40:06.827762' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:40:06.827825') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.488303 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.488479 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:58.826405', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:58.825767' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:58.825830') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.488668 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.488873 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/504/450/.permissions_check.77176960.21642.236985 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.489035 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.489164 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.489275 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.489371 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.489483 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.489591 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/504/450 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.489705 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-uxczwu (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_set/builder.rb:11:in `block in build_from_database'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_set/builder.rb:10:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_set/builder.rb:10:in `build_from_database'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:68:in `instantiate'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `block (2 levels) in find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `block in each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `block in find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:49:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/statement_cache.rb:107:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/core.rb:219:in `find_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:41:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.489986 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.490095 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.490207 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.490306 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.490410 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.490516 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.490860 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.734525 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.491180 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-11xfl26 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/attribute_methods.rb:449:in `respond_to?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods.rb:220:in `respond_to?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/attribute_assignment.rb:45:in `_assign_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/attribute_assignment.rb:40:in `block in _assign_attributes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/attribute_assignment.rb:39:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/attribute_assignment.rb:39:in `_assign_attributes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_assignment.rb:26:in `_assign_attributes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/attribute_assignment.rb:33:in `assign_attributes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:293:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.491446 #21642] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: SELECT "channels".* FROM "channels" WHERE (active = 't' AND area LIKE '%::Account') (ActiveRecord::StatementInvalid)
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.491521 #21642] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.491619 #21642] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.491690 #21642] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.491752 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:30.803716', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:30.803037' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:30.803095') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.491814 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.492039 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:22.801802', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:22.800880' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:22.800984') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.492118 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.492430 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.492616 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.492717 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.492816 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.492915 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.493011 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/506/470 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.493325 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-21642-irs0qh (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:392:in `binds_from_relation'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:32:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:42:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:30:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:30:in `threads'
script/scheduler.rb:74:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:57:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.493589 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/506/470/.permissions_check.78713420.21642.992712 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.494036 #21642] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.494138 #21642] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.494336 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:14.799565', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:14.798747' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:14.798809') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.494425 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.494535 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1xubq6d (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/object/acts_like.rb:8:in `acts_like?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/duration.rb:396:in `block in sum'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/duration.rb:395:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/duration.rb:395:in `inject'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/duration.rb:395:in `sum'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/duration.rb:365:in `ago'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/time/calculations.rb:265:in `minus_with_duration'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/time/calculations.rb:278:in `minus_with_coercion'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/time_with_zone.rb:307:in `-'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:48:in `ready_to_run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:66:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.494743 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:06.797094', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:06.796231' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:06.796302') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.494815 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.495028 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0/.permissions_check.72212580.21642.869911 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.495196 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.495323 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.495443 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.495553 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.495656 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.495775 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.496198 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A220181109-21642-100mrok (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/time_with_zone.rb:494:in `transfer_time_values_to_utc_constructor'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/time_with_zone.rb:51:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/date_and_time/zones.rb:33:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/date_and_time/zones.rb:33:in `time_with_zone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/date_and_time/zones.rb:23:in `in_time_zone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:31:in `convert_time_to_time_zone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:6:in `deserialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:163:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:38:in `value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:25:in `transform_values'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:25:in `to_hash'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods.rb:276:in `attributes'
/home/deployer/kramer/app/models/application_model/checks_attribute_values_and_length.rb:20:in `check_attribute_values_and_length'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:601:in `block (2 levels) in default_terminator'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:600:in `catch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:600:in `block in default_terminator'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:198:in `block in halting'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `block in invoke_before'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `invoke_before'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:130:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:299:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.496568 #21642] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.496879 #21642] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.496956 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.134852 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497100 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497212 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497300 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497408 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497506 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497611 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497827 #21642] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497904 #21642] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.497974 #21642] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:58.794688', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:58.793993' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:58.794051') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.498040 #21642] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.498576 #21642] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: SELECT "channels".* FROM "channels" WHERE (active = 't' AND area LIKE '%::Account') (ActiveRecord::StatementInvalid)
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.498650 #21642] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.498755 #21642] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:50.792096', locked_by = 'host:chaturbots-1 pid:21642' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:50.791415' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:50.791489') OR locked_by = 'host:chaturbots-1 pid:21642') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.498839 #21642] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.499037 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-mdntxe (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/select_manager.rb:171:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/select_manager.rb:171:in `block in order'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/select_manager.rb:170:in `map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/select_manager.rb:170:in `order'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:1101:in `build_order'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:951:in `build_arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:918:in `arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:579:in `block in to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:223:in `unprepared_statement'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:578:in `to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:99:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.499353 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.628728 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.499535 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.499658 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.499764 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.499868 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.499975 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.500077 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.500962 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1rvezmy (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_set/builder.rb:11:in `block in build_from_database'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_set/builder.rb:10:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_set/builder.rb:10:in `build_from_database'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:68:in `instantiate'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `block (2 levels) in find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `block in each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `block in find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:49:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:42:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:30:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:30:in `threads'
script/scheduler.rb:74:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:57:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.501832 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.288885 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.501997 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.502095 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.502205 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.502292 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.502382 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.502495 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.503662 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.434980 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.503845 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.503982 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.504080 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.504195 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.504282 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.504389 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.504796 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-qc77eo (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:168:in `block in predicates_with_wrapped_sql_literals'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:167:in `map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:167:in `predicates_with_wrapped_sql_literals'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:67:in `ast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:945:in `build_arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:918:in `arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:94:in `bound_attributes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:37:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:571:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/locking/optimistic.rb:9:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:293:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.505745 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A820181109-21642-1emtats (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/kramer/lib/sessions.rb:87:in `block in sessions'
/home/deployer/kramer/lib/sessions.rb:86:in `foreach'
/home/deployer/kramer/lib/sessions.rb:86:in `sessions'
/home/deployer/kramer/lib/sessions.rb:600:in `block in jobs'
/home/deployer/kramer/lib/sessions.rb:590:in `loop'
/home/deployer/kramer/lib/sessions.rb:590:in `jobs'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.506004 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.760101 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.506180 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.506305 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.506417 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.506551 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.506653 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.506761 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.507333 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-18751uk (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:482:in `type_map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:442:in `get_oid_type'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:85:in `block (2 levels) in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each_with_index'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `block in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:607:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.507936 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.70989 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.508096 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.508234 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.508343 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.508603 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.508721 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.508827 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.509577 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/506/470/.permissions_check.78713420.21642.365519 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.509727 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.509835 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.509938 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.510039 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.510164 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.510264 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/506/470 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.510431 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1qf7vmm (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:598:in `%'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:598:in `call'
/home/deployer/kramer/lib/core_ext/activesupport/lib/active_support/tagged_logging/formatter.rb:26:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:582:in `format_message'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:470:in `add'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-session_store-1.1.0/lib/active_record/session_store/extension/logger_silencer.rb:38:in `add_with_threadsafety'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/logger.rb:87:in `add'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:525:in `info'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.510990 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-21642-1kxfn3h (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:562:in `reset'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:33:in `initialize_copy'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:11:in `initialize_copy'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/spawn_methods.rb:9:in `initialize_clone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/spawn_methods.rb:9:in `clone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/spawn_methods.rb:9:in `spawn'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:317:in `order'
/home/deployer/kramer/app/models/user.rb:521:in `with_permissions'
/home/deployer/kramer/lib/stats.rb:28:in `generate'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:254:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.511973 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1ih1yyp (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:70:in `to_r'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:70:in `fast_string_to_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/date_time.rb:19:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/oid/date_time.rb:14:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:36:in `cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/accepts_multiparameter_time.rb:10:in `block in initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:22:in `deserialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/delegate.rb:341:in `block in delegating_block'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:6:in `deserialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:163:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:38:in `value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:45:in `fetch_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_methods/read.rb:23:in `_read_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/read.rb:36:in `__temp__c6163747f52757e6'
/home/deployer/kramer/app/models/scheduler.rb:48:in `block (2 levels) in threads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:42:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:30:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:30:in `threads'
script/scheduler.rb:74:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:57:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.512665 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.687785 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.513101 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.513233 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.513339 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.513448 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.513543 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.513651 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.514362 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/504/450/.permissions_check.77176960.21642.896701 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.514561 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.514669 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.514767 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.514868 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.514966 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.515063 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/504/450 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.515617 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1lxt8tf (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/set.rb:84:in `new'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/set.rb:84:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:8:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:8:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:246:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:246:in `mutation_tracker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:265:in `mutations_from_database'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:197:in `has_changes_to_save?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:111:in `should_record_timestamps?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:99:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.516322 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.315008 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.516604 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.516713 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.516811 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.516902 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.516992 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.517098 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.517358 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-4m4uly (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:58:in `initialize_dup'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:58:in `dup'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:58:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/subscriber.rb:85:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/subscriber.rb:85:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/log_subscriber.rb:79:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:98:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:42:in `block in start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:42:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:42:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:33:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:19:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:141:in `commit_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:140:in `commit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:177:in `block in commit_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:168:in `commit_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:207:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.518709 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1ya2oa2 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:41:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:87:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:87:in `block in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:607:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:42:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:30:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:30:in `threads'
script/scheduler.rb:74:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:57:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:22.519155 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.156671 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.519315 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.519434 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.519536 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.519643 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.519744 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.519844 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.520740 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1xffhnj (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/collection/map/non_concurrent_map_backend.rb:20:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/map.rb:93:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/type/type_map.rb:18:in `fetch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:446:in `get_oid_type'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:85:in `block (2 levels) in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each_with_index'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `block in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:607:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.521063 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.735182 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.521217 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.521321 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.521414 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.521499 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.521597 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.521677 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.522063 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A220181109-21642-11z18ww (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:70:in `to_r'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:70:in `fast_string_to_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/date_time.rb:19:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/oid/date_time.rb:14:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:36:in `cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/accepts_multiparameter_time.rb:10:in `block in initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:22:in `deserialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/delegate.rb:341:in `block in delegating_block'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:6:in `deserialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:163:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:38:in `value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:25:in `transform_values'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:25:in `to_hash'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods.rb:276:in `attributes'
/home/deployer/kramer/app/models/application_model/checks_attribute_values_and_length.rb:20:in `check_attribute_values_and_length'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:601:in `block (2 levels) in default_terminator'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:600:in `catch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:600:in `block in default_terminator'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:198:in `block in halting'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `block in invoke_before'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `invoke_before'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:130:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.522804 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0/.permissions_check.72212580.21642.921380 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.522972 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.523076 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.523188 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.523277 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.523369 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.523465 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.524413 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.405671 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.524649 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.524771 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.524887 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.524986 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.525091 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.525219 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.525807 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1bt4s2l (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.526839 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.526985 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.527105 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.527228 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.527335 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.527453 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.527587 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-21642-1y90l4t (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/collection/map/non_concurrent_map_backend.rb:20:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/map.rb:93:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:55:in `listeners_for'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:42:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:33:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:19:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:49:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/statement_cache.rb:107:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/core.rb:219:in `find_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:41:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.527746 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.743253 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.528614 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/506/470/.permissions_check.78713420.21642.318719 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.528790 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.528898 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.528999 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.529093 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.529195 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.529289 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/506/470 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.529541 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1r8hwm4 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:191:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:191:in `to_a'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:191:in `entries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:191:in `exclude_from'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:149:in `delete_empty_directories'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:151:in `delete_empty_directories'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:91:in `delete_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:124:in `delete_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:411:in `block in delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:410:in `delete'
/home/deployer/kramer/lib/cache.rb:12:in `delete'
/home/deployer/kramer/app/models/application_model/has_cache.rb:36:in `block in cache_delete'
/home/deployer/kramer/app/models/application_model/has_cache.rb:35:in `each'
/home/deployer/kramer/app/models/application_model/has_cache.rb:35:in `cache_delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:270:in `block in simple'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `block in invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:132:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_commit_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:343:in `committed!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:86:in `commit_records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:178:in `block in commit_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:168:in `commit_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:207:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.530662 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.870191 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.530834 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.530950 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.531053 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.531160 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.531262 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.531360 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.532106 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-j4xjtn (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:169:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.532826 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.651012 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.532991 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.533100 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.533206 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.533294 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.533497 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.533588 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.534157 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A820181109-21642-100spwd (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:70:in `to_r'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:70:in `fast_string_to_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/date_time.rb:19:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/oid/date_time.rb:14:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:36:in `cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/accepts_multiparameter_time.rb:10:in `block in initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:22:in `deserialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/delegate.rb:341:in `block in delegating_block'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:6:in `deserialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:163:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:46:in `original_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:44:in `original_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:31:in `change_to_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:21:in `block in changes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `each_with_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `changes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:202:in `changes_to_save'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:207:in `changed_attribute_names_to_save'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:301:in `keys_for_partial_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:293:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.535012 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1kceniy (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/per_thread_registry.rb:45:in `instance'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/runtime_registry.rb:18:in `connection_handler'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/core.rb:142:in `connection_handler'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_handling.rb:116:in `retrieve_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_handling.rb:88:in `connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.535714 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.167352 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.535888 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.536005 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.536108 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.536228 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.536331 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.536445 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.537524 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-841pq2 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:126:in `initialize_dup'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:126:in `dup'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:126:in `block in hash_rows'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:126:in `map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:126:in `hash_rows'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `block in find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:49:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.537871 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.823334 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.538007 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.538105 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.538208 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.538302 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.538383 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.538468 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.539559 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1ulpxgo (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/per_thread_registry.rb:45:in `instance'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/per_thread_registry.rb:53:in `set_value_for'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/scoping.rb:18:in `current_scope='
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:338:in `scoping'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/scoping/named.rb:171:in `block in scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:66:in `block in by_priority'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:336:in `scoping'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:66:in `by_priority'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:72:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.540286 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.294646 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.540472 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.540637 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.540740 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.540851 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.540949 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.541055 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.541961 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/504/450/.permissions_check.77176960.21642.623275 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.542117 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.542237 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.542334 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.542427 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.542522 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.542624 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/504/450 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.543073 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-li8c7s (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/hash_with_indifferent_access.rb:122:in `update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/hash_with_indifferent_access.rb:67:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/hash/indifferent_access.rb:8:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/hash/indifferent_access.rb:8:in `with_indifferent_access'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `changes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:202:in `changes_to_save'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:207:in `changed_attribute_names_to_save'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:301:in `keys_for_partial_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:293:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.543974 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.901230 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.544156 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.544263 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.544352 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.544456 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.544595 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.544708 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.544873 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-21642-wc2q9g (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/collection/map/non_concurrent_map_backend.rb:20:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/map.rb:93:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/type/type_map.rb:18:in `fetch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:446:in `get_oid_type'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:85:in `block (2 levels) in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each_with_index'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `block in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:607:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:30:in `fetch'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:275:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:275:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.545160 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.545256 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.545368 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/506/470 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.546091 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/506/470/.permissions_check.78713420.21642.430496 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.546250 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.546344 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.546439 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.546657 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-71aazw (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:52:in `new_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:71:in `fast_string_to_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/date_time.rb:19:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/oid/date_time.rb:14:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:36:in `cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/accepts_multiparameter_time.rb:10:in `block in initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:22:in `deserialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/delegate.rb:341:in `block in delegating_block'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:6:in `deserialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:163:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:46:in `original_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:44:in `original_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:31:in `change_to_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:21:in `block in changes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `each_with_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `changes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:177:in `saved_changes'
/home/deployer/kramer/app/models/application_model/has_cache.rb:46:in `cache_delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:270:in `block in simple'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `block in invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:132:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_commit_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:343:in `committed!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:86:in `commit_records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:178:in `block in commit_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:168:in `commit_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:207:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.547833 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.814226 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.547980 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.548072 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.548176 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.548265 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.548350 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.548647 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.549378 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-1o7a0o3 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/collection/map/non_concurrent_map_backend.rb:20:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/map.rb:93:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/type/type_map.rb:18:in `fetch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:446:in `get_oid_type'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:85:in `block (2 levels) in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each_with_index'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `block in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:607:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:356:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:350:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:350:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.550158 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.73921000.21642.386224 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.550308 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.550424 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.550508 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.550594 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.550679 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.550765 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.551203 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-21642-ygpcot (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:28:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:5:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:102:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:102:in `create'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/core.rb:308:in `relation'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/scoping/default.rb:35:in `unscoped'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:23:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:571:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/locking/optimistic.rb:9:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:293:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:267:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.552104 #21642] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A220181109-21642-9w6ael (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `initialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.552255 #21642] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0/.permissions_check.72212580.21642.483669 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.552389 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.552485 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.552604 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.552687 #21642] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.552800 #21642] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:22.552900 #21642] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:239:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
I, [2018-11-09T09:40:30.213413 #27187]  INFO -- : *** below you find the most recent exception thrown, this will be likely (but not certainly) the exception that made the application exit abnormally ***
E, [2018-11-09T09:40:30.213551 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/504/450 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
I, [2018-11-09T09:40:30.214689 #27187]  INFO -- : *** below you find all exception objects found in memory, some of them may have been thrown in your application, others may just be in memory because they are standard exceptions ***
E, [2018-11-09T09:40:30.215083 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.215315 #27187] ERROR -- : stream closed (IOError)

E, [2018-11-09T09:40:30.215403 #27187] ERROR -- : failed to allocate memory (NoMemoryError)

E, [2018-11-09T09:40:30.215447 #27187] ERROR -- : stack level too deep (SystemStackError)

E, [2018-11-09T09:40:30.215744 #27187] ERROR -- : exception reentered (fatal)

E, [2018-11-09T09:40:30.220938 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.221143 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.222771 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.241311 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:27:59.790432', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:27:59.789712' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:27:59.789776') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.241692 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.251676 #27187] ERROR -- : Bad file descriptor (Errno::EBADF)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:133:in `for_fd'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:133:in `block in close_io'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:132:in `upto'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:132:in `close_io'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:77:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.259991 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.260190 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.263229 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.263389 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.265570 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1uv94l9 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/object/acts_like.rb:8:in `acts_like?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:138:in `quoted_date'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/quoting.rb:54:in `quoted_date'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:209:in `_type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/quoting.rb:119:in `_type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:42:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `block in type_casted_binds'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `type_casted_binds'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:613:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:603:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:92:in `exec_delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:140:in `update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:42:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:571:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/locking/optimistic.rb:9:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:293:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.265969 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:31:59.855175', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:31:59.854443' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:31:59.854506') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.266047 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.266174 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:31:51.852950', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:31:51.852253' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:31:51.852305') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.266363 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.266594 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:30:39.833599', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:30:39.832870' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:30:39.832940') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.266675 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.266779 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:29:59.822622', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:29:59.821927' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:29:59.821994') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.266829 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.266959 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-134cid5 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/kramer/lib/sessions.rb:88:in `block in sessions'
/home/deployer/kramer/lib/sessions.rb:86:in `foreach'
/home/deployer/kramer/lib/sessions.rb:86:in `sessions'
/home/deployer/kramer/lib/sessions.rb:600:in `block in jobs'
/home/deployer/kramer/lib/sessions.rb:590:in `loop'
/home/deployer/kramer/lib/sessions.rb:590:in `jobs'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267100 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:29:19.811821', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:29:19.811140' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:29:19.811203') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267223 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267384 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/506/470/.permissions_check.67562320.27187.984003 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267526 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267609 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267684 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267754 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267823 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.267903 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/506/470 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268001 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:28:47.803085', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:28:47.802364' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:28:47.802426') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268056 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268105 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-hkomih (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:6:in `empty?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:945:in `build_arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:918:in `arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:579:in `block in to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:223:in `unprepared_statement'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:578:in `to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:99:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268479 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:33:19.876090', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:33:19.875451' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:33:19.875520') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268566 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268667 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:33:11.874064', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:33:11.873495' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:33:11.873561') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268716 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268804 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:29:51.820458', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:29:51.819717' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:29:51.819784') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.268857 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.269010 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.312324 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.269148 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.269224 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.269290 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.269357 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.269436 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.269506 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.270052 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/504/450/.permissions_check.70325160.27187.620455 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.270154 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-27187-dfdpbd (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `dump'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `block in write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:24:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.270241 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.270314 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.270377 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.270452 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.270515 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.270585 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/504/450 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.271704 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:28:15.794956', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:28:15.794211' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:28:15.794281') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.271857 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: SELECT "channels".* FROM "channels" WHERE (active = 't' AND area LIKE '%::Account') (ActiveRecord::StatementInvalid)
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.271906 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.272008 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.272055 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.272190 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.272237 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.272680 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-130hd4t (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.272732 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A820181109-27187-14c2cxz (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.272763 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-27187-1ii0nh6 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.272793 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-4cm6fp (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.272827 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1gr0f3p (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.272863 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1x2zrpg (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.272897 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A220181109-27187-kxtosa (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.272945 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-rlhzda (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.272989 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1caj5kt (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273022 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-5mzidk (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273058 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-27187-yne3tr (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273089 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-rotofy (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273118 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-na8u39 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273159 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-8hq8aa (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273191 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1ao54dr (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273226 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A820181109-27187-11k0dhg (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:345:in `block in exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `each_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:344:in `exception_log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:242:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273262 #27187] ERROR -- : No such file or directory @ rb_sysopen - /home/deployer/kramer/tmp/pids/scheduler.pid (Errno::ENOENT)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/pidfile.rb:108:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/pidfile.rb:108:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/pidfile.rb:108:in `pid'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/pidfile.rb:99:in `cleanup'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:237:in `block (2 levels) in start_proc'
E, [2018-11-09T09:40:30.273298 #27187] ERROR -- : exit (SystemExit)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:129:in `exit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:129:in `rescue in with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:123:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.273340 #27187] ERROR -- : ActiveRecord::StatementInvalid: PG::ConnectionBad: PQsocket() can't get socket descriptor: SELECT "schedulers".* FROM "schedulers" WHERE (active = 't') ORDER BY prio ASC
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
  /home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
  /home/deployer/kramer/app/models/scheduler.rb:41:in `block in threads'
  /home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
  /home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
  script/scheduler.rb:72:in `block in <top (required)>'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
  /home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
  script/scheduler.rb:55:in `<top (required)>' (SystemExit)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:81:in `abort'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:81:in `rescue in kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:65:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.273435 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: SELECT "schedulers".* FROM "schedulers" WHERE (active = 't') ORDER BY prio ASC (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:41:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.273496 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:41:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.273561 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-146reto (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/per_thread_registry.rb:45:in `instance'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/per_thread_registry.rb:53:in `value_for'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/scoping.rb:14:in `current_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/scoping/named.rb:25:in `all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:10:in `where'
/home/deployer/kramer/app/models/scheduler.rb:40:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.273692 #27187] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:34:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.273792 #27187] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:280:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.273860 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.273916 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.273964 #27187] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:280:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274032 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274073 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274113 #27187] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:280:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274186 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274249 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274298 #27187] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:280:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274351 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274403 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274449 #27187] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:280:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274518 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274563 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274608 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:40:23.995512', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:40:23.994721' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:40:23.994779') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274658 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274756 #27187] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:280:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274804 #27187] ERROR -- : PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274847 #27187] ERROR -- : PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.274980 #27187] ERROR -- : invalid encoding name: utf8 (PG::Error)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `set_client_encoding'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:711:in `configure_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:264:in `block in reconnect!'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:261:in `reconnect!'
/home/deployer/kramer/app/models/scheduler.rb:280:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275051 #27187] ERROR -- : PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: SELECT "channels".* FROM "channels" WHERE (active = 't' AND area LIKE '%::Account') (ActiveRecord::StatementInvalid)
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275100 #27187] ERROR -- : PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::ConnectionBad)
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275173 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:40:15.993472', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:40:15.992786' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:40:15.992851') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275225 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275335 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:40:07.991235', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:40:07.990507' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:40:07.990569') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275390 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275537 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:59.989094', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:59.988269' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:59.988332') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275584 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275673 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.665752 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275778 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275847 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275914 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.275977 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276035 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276099 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276217 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1urlmxd (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/collection/map/non_concurrent_map_backend.rb:20:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/concurrent-ruby-1.0.5/lib/concurrent/map.rb:93:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/type/type_map.rb:18:in `fetch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:446:in `get_oid_type'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:85:in `block (2 levels) in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `each_with_index'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:82:in `block in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:607:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:30:in `fetch'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276508 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:51.986843', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:51.986057' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:51.986119') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276592 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276683 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/504/450/.permissions_check.70325160.27187.626779 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276768 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276833 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276888 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.276949 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277006 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277089 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/504/450 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277431 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277480 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277533 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:43.984579', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:43.983898' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:43.983961') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277582 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277708 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:35.982576', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:35.981817' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:35.981885') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277803 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.277932 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-g59jtk (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/object/acts_like.rb:8:in `acts_like?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/date_and_time/zones.rb:20:in `in_time_zone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:31:in `convert_time_to_time_zone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:6:in `deserialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:163:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:38:in `value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:45:in `fetch_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_methods/read.rb:23:in `_read_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/read.rb:36:in `__temp__c6163747f52757e6'
/home/deployer/kramer/app/models/scheduler.rb:47:in `block (2 levels) in threads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:41:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.278314 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:27.980509', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:27.979855' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:27.979913') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.278366 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.278512 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.734549 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.278625 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.278695 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.278765 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.278838 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.278900 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.278967 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.279415 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:19.978375', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:19.977736' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:19.977803') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.279471 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.279561 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-phjm0h (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/kramer/lib/sessions.rb:87:in `block in sessions'
/home/deployer/kramer/lib/sessions.rb:86:in `foreach'
/home/deployer/kramer/lib/sessions.rb:86:in `sessions'
/home/deployer/kramer/lib/sessions.rb:600:in `block in jobs'
/home/deployer/kramer/lib/sessions.rb:590:in `loop'
/home/deployer/kramer/lib/sessions.rb:590:in `jobs'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.279665 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:11.976355', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:11.975706' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:11.975768') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.279715 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.279825 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:39:03.974393', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:39:03.973710' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:39:03.973842') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.279907 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280061 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:55.972404', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:55.971645' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:55.971729') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280116 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280210 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.282418 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280315 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280391 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280469 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280565 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280637 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.280706 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.281072 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:47.970283', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:47.969576' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:47.969637') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.281144 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.281260 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:31.966091', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:31.965343' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:31.965467') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.281408 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:39.968076', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:39.967441' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:39.967503') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.281472 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.281540 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.281719 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1ny1v46 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:52:in `new_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:71:in `fast_string_to_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/date_time.rb:19:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/oid/date_time.rb:14:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:36:in `cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/accepts_multiparameter_time.rb:10:in `block in initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:22:in `deserialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/delegate.rb:341:in `block in delegating_block'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:6:in `deserialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:163:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:38:in `value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:45:in `fetch_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_methods/read.rb:23:in `_read_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/read.rb:36:in `__temp__c6163747f52757e6'
/home/deployer/kramer/app/models/scheduler.rb:47:in `block (2 levels) in threads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:41:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.282089 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:23.963647', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:23.962863' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:23.962922') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282154 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282235 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.263044 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282329 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282405 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282472 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282534 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282600 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282666 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.282793 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-27187-1gejp6o (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:52:in `new_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/time_value.rb:71:in `fast_string_to_time'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/date_time.rb:19:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/oid/date_time.rb:14:in `cast_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:36:in `cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/helpers/accepts_multiparameter_time.rb:10:in `block in initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/type/value.rb:22:in `deserialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/delegate.rb:341:in `block in delegating_block'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/time_zone_conversion.rb:6:in `deserialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:163:in `type_cast'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:46:in `original_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:44:in `original_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:154:in `changed_from_assignment?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute.rb:55:in `changed?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:42:in `changed?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:30:in `change_to_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:21:in `block in changes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `each_with_object'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_mutation_tracker.rb:20:in `changes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:177:in `saved_changes'
/home/deployer/kramer/app/models/application_model/has_cache.rb:46:in `cache_delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:270:in `block in simple'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `block in invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:132:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_commit_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:343:in `committed!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:86:in `commit_records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:178:in `block in commit_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:168:in `commit_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:207:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283145 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283194 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283398 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: SELECT "channels".* FROM "channels" WHERE (active = 't' AND area LIKE '%::Account') (ActiveRecord::StatementInvalid)
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283444 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283507 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:15.961416', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:15.960700' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:15.960769') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283555 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283660 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/506/470/.permissions_check.67562320.27187.421655 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283749 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283807 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283870 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.283939 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.284007 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.284074 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/506/470 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.284167 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1f5zt64 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:41:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:87:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:87:in `block in exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:607:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/statement_cache.rb:107:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/core.rb:219:in `find_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:41:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.284557 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.284624 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:38:07.959192', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:38:07.958480' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:38:07.958544') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.284673 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.284726 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.284900 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A220181109-27187-zx68km (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/table.rb:81:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/table.rb:81:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/core.rb:287:in `arel_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/table_metadata.rb:24:in `arel_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/predicate_builder.rb:80:in `block in expand_from_hash'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/predicate_builder.rb:76:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/predicate_builder.rb:76:in `flat_map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/predicate_builder.rb:76:in `expand_from_hash'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/predicate_builder.rb:29:in `build_from_hash'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause_factory.rb:22:in `build'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:612:in `where!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:605:in `where'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:33:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:571:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/locking/optimistic.rb:9:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:293:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285149 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: SELECT "channels".* FROM "channels" WHERE (active = 't' AND area LIKE '%::Account') (ActiveRecord::StatementInvalid)
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285199 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:142:in `block in stream'
/home/deployer/kramer/app/models/channel.rb:137:in `loop'
/home/deployer/kramer/app/models/channel.rb:137:in `stream'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285249 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:59.956844', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:59.956026' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:59.956082') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285296 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285376 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0/.permissions_check.70035925235460.27187.381899 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285477 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285546 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285612 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285680 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285743 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.285811 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286120 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286178 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286234 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.424994 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286318 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286417 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286515 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286587 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286650 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286713 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.286891 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1mwj1dy (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/uri/common.rb:378:in `encode_www_form_component'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:120:in `normalize_key'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:411:in `block in delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:410:in `delete'
/home/deployer/kramer/lib/cache.rb:12:in `delete'
/home/deployer/kramer/app/models/application_model/has_cache.rb:36:in `block in cache_delete'
/home/deployer/kramer/app/models/application_model/has_cache.rb:35:in `each'
/home/deployer/kramer/app/models/application_model/has_cache.rb:35:in `cache_delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:270:in `block in simple'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `block in invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:132:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_commit_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:343:in `committed!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:86:in `commit_records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:178:in `block in commit_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:168:in `commit_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:207:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:298:in `rescue in _start_job'
/home/deployer/kramer/app/models/scheduler.rb:265:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.287157 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:51.954322', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:51.953524' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:51.953622') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.287242 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.287360 #27187] ERROR -- : PG::UnableToSend: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.287417 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.287479 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:43.951993', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:43.951308' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:43.951429') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.287524 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.287653 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:35.949979', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:35.949332' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:35.949395') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.287802 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288072 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1y8iefc (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:10:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:14:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:14:in `+'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:612:in `where!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:605:in `where'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:10:in `where'
/home/deployer/kramer/app/models/scheduler.rb:40:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.288240 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:27.947497', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:27.946622' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:27.946695') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288290 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288386 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.561931 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288492 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288586 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288650 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288716 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288778 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.288844 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289166 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:19.945368', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:19.944785' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:19.944843') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289219 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289344 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:11.943504', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:11.942855' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:11.942926') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289391 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289493 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:37:03.941567', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:37:03.940907' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:37:03.940969') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289543 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289668 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:36:55.939564', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:36:55.938875' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:36:55.938941') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289714 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289806 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.720763 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289894 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.289953 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290011 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290069 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290149 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290223 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290334 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1vvt78t (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/collectors/plain_string.rb:15:in `<<'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:715:in `literal'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/determine_if_preparable_visitor.rb:18:in `visit_Arel_Nodes_SqlLiteral'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/reduce.rb:14:in `visit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:403:in `visit_Arel_Nodes_Grouping'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/reduce.rb:14:in `visit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:799:in `block in inject_join'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `each_with_index'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `inject'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:797:in `inject_join'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:616:in `visit_Arel_Nodes_And'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/reduce.rb:14:in `visit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:248:in `block in collect_nodes_for'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:247:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:247:in `each_with_index'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:247:in `collect_nodes_for'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:232:in `visit_Arel_Nodes_SelectCore'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:195:in `block in visit_Arel_Nodes_SelectStatement'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:194:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:194:in `inject'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/to_sql.rb:194:in `visit_Arel_Nodes_SelectStatement'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/reduce.rb:14:in `visit'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/visitors/reduce.rb:8:in `accept'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/determine_if_preparable_visitor.rb:8:in `accept'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:12:in `to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:33:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/channel.rb:30:in `fetch'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290669 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:36:47.937363', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:36:47.936616' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:36:47.936683') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290720 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290847 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:36:39.935200', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:36:39.934360' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:36:39.934429') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.290902 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291000 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:36:31.932829', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:36:31.932007' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:36:31.932087') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291047 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291236 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A820181109-27187-janbzw (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set/builder.rb:34:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_set/builder.rb:16:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_set/builder.rb:16:in `build_from_database'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:68:in `instantiate'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `block (2 levels) in find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `block in each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/result.rb:55:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `map'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:50:in `block in find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:49:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:678:in `exec_queries'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:546:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:255:in `records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:41:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.291512 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:36:23.930450', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:36:23.929567' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:36:23.929650') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291569 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291661 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.28113 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291751 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291815 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291886 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.291960 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292025 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292091 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292290 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-abqn67 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/callbacks.rb:141:in `=='
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/callbacks.rb:141:in `!='
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/callbacks.rb:141:in `block (2 levels) in _define_after_model_callback'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:153:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:234:in `block (2 levels) in halting_and_conditional'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:234:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:234:in `all?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:234:in `block in halting_and_conditional'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `block in invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:132:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292595 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:36:15.927805', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:36:15.926957' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:36:15.927041') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292648 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292747 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:36:07.925294', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:36:07.924402' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:36:07.924484') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292796 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292929 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:35:59.922695', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:35:59.921885' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:35:59.921971') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.292975 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293077 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:35:51.919896', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:35:51.918967' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:35:51.919061') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293135 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293215 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.29986 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293298 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293367 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293432 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293499 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293565 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293635 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293935 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:35:43.917480', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:35:43.916743' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:35:43.916804') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.293986 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294103 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:35:35.915393', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:35:35.914750' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:35:35.914816') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294161 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294254 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:35:27.913263', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:35:27.912445' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:35:27.912508') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294299 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294386 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.150324 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294477 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294602 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294686 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294759 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294830 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.294900 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.295248 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1kz66fn (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:598:in `%'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:598:in `call'
/home/deployer/kramer/lib/core_ext/activesupport/lib/active_support/tagged_logging/formatter.rb:26:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:582:in `format_message'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:470:in `add'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-session_store-1.1.0/lib/active_record/session_store/extension/logger_silencer.rb:38:in `add_with_threadsafety'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/logger.rb:87:in `add'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:525:in `info'
/home/deployer/kramer/app/models/scheduler.rb:257:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.295661 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-27187-f6ydnb (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/marshal.rb:4:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/marshal.rb:4:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:73:in `block in read_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:73:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:73:in `read_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:113:in `read_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:315:in `block in read'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:314:in `read'
/home/deployer/kramer/lib/cache.rb:51:in `get'
/home/deployer/kramer/app/models/application_model/has_cache.rb:65:in `cache_get'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:27:in `lookup'
/home/deployer/kramer/app/models/user.rb:503:in `block (2 levels) in with_permissions'
/home/deployer/kramer/app/models/user.rb:502:in `each'
/home/deployer/kramer/app/models/user.rb:502:in `block in with_permissions'
/home/deployer/kramer/app/models/user.rb:500:in `each'
/home/deployer/kramer/app/models/user.rb:500:in `with_permissions'
/home/deployer/kramer/lib/stats.rb:28:in `generate'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:253:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296057 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:35:19.910997', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:35:19.910275' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:35:19.910340') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296108 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296216 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/506/470/.permissions_check.67562320.27187.769577 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296305 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296374 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296448 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296517 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296603 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296674 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/506/470 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296822 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-fn3aud (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/uri/common.rb:378:in `encode_www_form_component'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:120:in `normalize_key'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:411:in `block in delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:410:in `delete'
/home/deployer/kramer/lib/cache.rb:12:in `delete'
/home/deployer/kramer/app/models/application_model/has_cache.rb:36:in `block in cache_delete'
/home/deployer/kramer/app/models/application_model/has_cache.rb:35:in `each'
/home/deployer/kramer/app/models/application_model/has_cache.rb:35:in `cache_delete'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:270:in `block in simple'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `block in invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:511:in `invoke_after'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:132:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_commit_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:343:in `committed!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:86:in `commit_records'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:178:in `block in commit_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:168:in `commit_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:207:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.296970 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:34:31.897328', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:34:31.896453' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:34:31.896607') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.297023 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.297138 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:34:23.894706', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:34:23.893810' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:34:23.893898') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.297190 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.297468 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:34:15.891997', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:34:15.891155' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:34:15.891247') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.297519 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.297730 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:33:59.886698', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:33:59.885895' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:33:59.885975') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.297778 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.297858 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.298286 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-t5z0zf (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/delegate.rb:385:in `__getobj__'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/delegate.rb:340:in `block in delegating_block'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/column.rb:8:in `type'
/home/deployer/kramer/app/models/application_model/checks_attribute_values_and_length.rb:25:in `block in check_attribute_values_and_length'
/home/deployer/kramer/app/models/application_model/checks_attribute_values_and_length.rb:20:in `each'
/home/deployer/kramer/app/models/application_model/checks_attribute_values_and_length.rb:20:in `check_attribute_values_and_length'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:413:in `block in make_lambda'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:601:in `block (2 levels) in default_terminator'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:600:in `catch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:600:in `block in default_terminator'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:198:in `block in halting'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `block in invoke_before'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:507:in `invoke_before'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:130:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:344:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/timestamp.rb:107:in `_update_record'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:559:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:97:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:162:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/validations.rb:50:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/dirty.rb:43:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `block in save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:313:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/suppressor.rb:46:in `save!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:294:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.298518 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:33:43.882424', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:33:43.881683' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:33:43.881745') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.298569 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.298896 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:33:03.871906', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:33:03.871089' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:33:03.871179') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.298949 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.299185 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A420181109-27187-5m875a (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/hash/keys.rb:16:in `block in transform_keys'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/hash/keys.rb:15:in `each_key'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/hash/keys.rb:15:in `transform_keys'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/hash/keys.rb:38:in `stringify_keys'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/attribute_assignment.rb:32:in `assign_attributes'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:293:in `block in update!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:253:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.299380 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:32:55.869577', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:32:55.868855' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:32:55.868919') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.299437 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.299618 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.144578 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.299743 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-31nosu (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/numeric/conversions.rb:126:in `to_s'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tmpdir.rb:117:in `make_tmpname'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tmpdir.rb:131:in `create'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:131:in `initialize'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:291:in `new'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:291:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.299855 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.299925 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.299992 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300057 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300119 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300197 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300327 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:32:47.867588', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:32:47.866916' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:32:47.866980') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300381 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300528 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:32:39.865602', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:32:39.865034' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:32:39.865095') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300605 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300807 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:32:15.859529', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:32:15.858822' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:32:15.858883') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300856 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.300952 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/506/470/.permissions_check.67562320.27187.688219 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301070 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:32:07.857348', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:32:07.856466' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:32:07.856688') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301112 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301253 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A820181109-27187-22lt1v (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/kramer/lib/sessions.rb:88:in `block in sessions'
/home/deployer/kramer/lib/sessions.rb:86:in `foreach'
/home/deployer/kramer/lib/sessions.rb:86:in `sessions'
/home/deployer/kramer/lib/sessions.rb:600:in `block in jobs'
/home/deployer/kramer/lib/sessions.rb:590:in `loop'
/home/deployer/kramer/lib/sessions.rb:590:in `jobs'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:237:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301372 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.293147 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301499 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301618 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301735 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301854 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.301975 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302059 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302346 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:31:35.848477', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:31:35.847886' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:31:35.847949') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302435 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302518 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:31:27.846543', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:31:27.845876' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:31:27.845935') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302565 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302747 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:31:03.840328', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:31:03.839660' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:31:03.839722') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302796 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302917 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:30:55.838222', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:30:55.837385' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:30:55.837512') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.302965 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303057 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-ztwm50 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activemodel-5.1.5/lib/active_model/forbidden_attributes_protection.rb:20:in `sanitize_for_mass_assignment'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:610:in `where!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:605:in `where'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:10:in `where'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:48:in `ready_to_run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:66:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303187 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.772676 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303277 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303350 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303427 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303482 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303544 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303602 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303759 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:30:23.829292', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:30:23.828421' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:30:23.828484') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303810 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303887 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1nf64yo (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:28:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:5:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:102:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:102:in `create'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/core.rb:308:in `relation'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/scoping/named.rb:42:in `default_scoped'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/scoping/named.rb:28:in `all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:10:in `where'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:48:in `ready_to_run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:66:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.303992 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.772929 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.304157 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.304229 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.304303 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.304368 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.304447 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.304515 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.304618 #27187] ERROR -- : server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
 (PG::UnableToSend)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:252:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:252:in `block in active?'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:251:in `active?'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:444:in `verify!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:808:in `block in checkout_and_verify'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/callbacks.rb:827:in `_run_checkout_callbacks'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:807:in `checkout_and_verify'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_handling.rb:116:in `retrieve_connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_handling.rb:88:in `connection'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:210:in `transaction'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/persistence.rb:292:in `update!'
/home/deployer/kramer/app/models/scheduler.rb:266:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:253:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.305299 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.696943 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.305411 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.305478 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.305544 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.305596 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.305658 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.305723 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.306385 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:28:39.801051', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:28:39.800348' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:28:39.800412') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.306445 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.306568 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:28:31.798982', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:28:31.798386' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:28:31.798446') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.306620 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.306994 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.65318 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.307083 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.307154 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.307218 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.307281 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.307340 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.307412 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.307518 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-unqi4r (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set/builder.rb:117:in `assign_default_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set/builder.rb:42:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:13:in `[]'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_set.rb:45:in `fetch_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/attribute_methods/read.rb:23:in `_read_attribute'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/attribute_methods/primary_key.rb:20:in `id'
/home/deployer/kramer/app/models/scheduler.rb:68:in `skip_job?'
/home/deployer/kramer/app/models/scheduler.rb:44:in `block (2 levels) in threads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/delegation.rb:39:in `each'
/home/deployer/kramer/app/models/scheduler.rb:41:in `block in threads'
/home/deployer/kramer/app/models/scheduler.rb:29:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:29:in `threads'
script/scheduler.rb:72:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:270:in `block in start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/daemonize.rb:84:in `call_as_daemon'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:274:in `start_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/application.rb:300:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/controller.rb:56:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:197:in `block in run_proc'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons/cmdline.rb:92:in `catch_exceptions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/daemons-1.2.5/lib/daemons.rb:196:in `run_proc'
script/scheduler.rb:55:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli/exec.rb:28:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:424:in `exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:27:in `dispatch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/cli.rb:18:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:30:in `block in <top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/bundler-1.16.4/exe/bundle:22:in `<top (required)>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `load'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/bundle:23:in `<main>'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `eval'
/home/deployer/.rvm/gems/ruby-2.4.4/bin/ruby_executable_hooks:15:in `<main>'
E, [2018-11-09T09:40:30.307754 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:31:19.844493', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:31:19.843831' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:31:19.843895') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.307807 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.308053 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:29:27.814033', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:29:27.813418' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:29:27.813488') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.308108 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.308173 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1bn3xqd (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/nodes/unary.rb:10:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/select_manager.rb:220:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/arel-8.0.0/lib/arel/select_manager.rb:220:in `take'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:947:in `build_arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:918:in `arel'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:579:in `block in to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:223:in `unprepared_statement'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:578:in `to_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:99:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.308343 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:29:11.809695', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:29:11.809016' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:29:11.809081') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.308392 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.308823 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:30:15.827063', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:30:15.826430' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:30:15.826494') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.308876 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.308995 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:30:07.824920', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:30:07.824059' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:30:07.824136') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.309119 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.309280 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.309412 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.309513 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.309615 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.309678 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.309754 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.309963 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:32:23.861615', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:32:23.860929' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:32:23.860989') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310015 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310115 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.470135 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310219 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310286 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310346 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310419 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310485 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310546 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310760 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:30:47.835858', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:30:47.835057' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:30:47.835177') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310814 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310912 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.310978 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311045 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311107 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311184 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311251 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311592 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311655 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311718 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311781 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311843 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.311904 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.312093 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:35:11.908674', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:35:11.907841' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:35:11.907907') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.312157 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.312606 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-smqwdc (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:604:in `format_datetime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:597:in `call'
/home/deployer/kramer/lib/core_ext/activesupport/lib/active_support/tagged_logging/formatter.rb:26:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:582:in `format_message'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:470:in `add'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-session_store-1.1.0/lib/active_record/session_store/extension/logger_silencer.rb:38:in `add_with_threadsafety'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/logger.rb:87:in `add'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/logger.rb:525:in `info'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:285:in `say'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:320:in `rescue in reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:315:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.312697 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:34:47.901899', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:34:47.901223' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:34:47.901288') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.312747 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.312874 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:34:39.899642', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:34:39.898830' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:34:39.898893') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.312925 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313083 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:34:07.889345', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:34:07.888381' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:34:07.888469') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313140 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313227 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:33:51.884452', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:33:51.883783' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:33:51.883844') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313274 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313360 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.227330 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313466 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:33:35.880286', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:33:35.879628' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:33:35.879689') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313533 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313631 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:33:27.878098', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:33:27.877424' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:33:27.877494') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313683 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313722 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A220181109-27187-3w0oy7 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:147:in `quoted_date'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/quoting.rb:54:in `quoted_date'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:193:in `_quote'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/quoting.rb:103:in `_quote'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/quoting.rb:25:in `quote'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/sanitization.rb:198:in `quote_bound_value'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/sanitization.rb:174:in `replace_bind_variable'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/sanitization.rb:166:in `block in replace_bind_variables'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/sanitization.rb:165:in `gsub'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/sanitization.rb:165:in `replace_bind_variables'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/sanitization.rb:153:in `sanitize_sql_array'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/sanitization.rb:26:in `sanitize_sql_for_conditions'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313880 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.241776 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.313970 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314045 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314111 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314184 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314249 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314314 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314676 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1fmtmmc (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:10:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:14:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/where_clause.rb:14:in `+'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:612:in `where!'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:605:in `where'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:10:in `where'
/home/deployer/kramer/app/models/ticket.rb:147:in `process_pending'
(eval):1:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:274:in `eval'
/home/deployer/kramer/app/models/scheduler.rb:274:in `_start_job'
/home/deployer/kramer/app/models/scheduler.rb:253:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314821 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:29:03.807570', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:29:03.806935' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:29:03.806988') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314888 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.314981 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1tprm4e (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/forwardable.rb:223:in `logger'
/home/deployer/kramer/app/models/scheduler.rb:354:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315044 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:28:55.805409', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:28:55.804741' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:28:55.804807') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315097 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315213 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.854997 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315387 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:28:23.796957', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:28:23.796230' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:28:23.796303') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315460 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315499 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A220181109-27187-qj09sl (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:63:in `initialize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/subscriber.rb:85:in `new'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/subscriber.rb:85:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/log_subscriber.rb:79:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:98:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:42:in `block in start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:42:in `each'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/fanout.rb:42:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:33:in `start'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:19:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315661 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.340956 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315768 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315832 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315924 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.315984 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.316045 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.316115 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.316342 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:28:07.792824', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:28:07.791913' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:28:07.791978') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.316420 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.316758 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:30:31.831509', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:30:31.830695' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:30:31.830758') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.316817 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.317282 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:29:43.818256', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:29:43.817573' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:29:43.817681') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.317351 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.317458 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:29:35.816220', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:29:35.815513' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:29:35.815631') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.317526 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.318371 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0/.permissions_check.70035925235460.27187.453457 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.318514 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.318588 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.318654 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.318716 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.318777 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.318846 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/50A/4B0 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.319197 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:32:31.863591', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:32:31.863012' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:32:31.863071') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.319262 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.319432 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.319504 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.319567 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.319631 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.319697 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.319770 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/506/470 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320181 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-86d5o8 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/kramer/lib/application_handle_info.rb:7:in `current='
/home/deployer/kramer/app/models/scheduler.rb:350:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320285 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:31:43.850715', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:31:43.849905' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:31:43.849971') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320351 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320489 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.732853 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320609 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320685 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320747 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320806 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320867 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.320931 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/507/480 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321089 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:31:11.842491', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:31:11.841895' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:31:11.841959') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321157 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321385 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/507/480/.permissions_check.66974080.27187.978213 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321486 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:35:03.906432', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:35:03.905708' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:35:03.905769') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321560 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321654 #27187] ERROR -- : PG::ConnectionBad: PQsocket() can't get socket descriptor: UPDATE "delayed_jobs" SET locked_at = '2018-11-09 09:34:55.904080', locked_by = 'host:chaturbots-1 pid:27187' WHERE id IN (SELECT  "delayed_jobs"."id" FROM "delayed_jobs" WHERE ((run_at <= '2018-11-09 09:34:55.903453' AND (locked_at IS NULL OR locked_at < '2018-11-09 05:34:55.903523') OR locked_by = 'host:chaturbots-1 pid:27187') AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT 1 FOR UPDATE) RETURNING * (ActiveRecord::StatementInvalid)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321707 #27187] ERROR -- : PQsocket() can't get socket descriptor (PG::ConnectionBad)
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `async_exec'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `block (2 levels) in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:615:in `block in exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:613:in `block (2 levels) in log'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block in log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract_adapter.rb:604:in `log'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `exec_no_cache'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/postgresql/database_statements.rb:79:in `exec_query'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:371:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/querying.rb:39:in `find_by_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:100:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321763 #27187] ERROR -- : No such file or directory @ unlink_internal - /home/deployer/kramer/tmp/cache_file_store_production/.Scheduler%3A%3A520181109-27187-1ncak12 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `unlink'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:257:in `call'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:562:in `reset'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation.rb:33:in `initialize_copy'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/composite_primary_keys-10.0.3/lib/composite_primary_keys/relation.rb:11:in `initialize_copy'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/spawn_methods.rb:9:in `initialize_clone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/spawn_methods.rb:9:in `clone'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/spawn_methods.rb:9:in `spawn'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activerecord-5.1.5/lib/active_record/relation/query_methods.rb:252:in `select'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:99:in `reserve_with_scope_using_optimized_sql'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:81:in `reserve_with_scope'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job_active_record-4.1.2/lib/delayed/backend/active_record.rb:74:in `reserve'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:316:in `reserve_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:311:in `reserve_and_run_one_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:213:in `block in work_off'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `times'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/delayed_job-4.1.3/lib/delayed/worker.rb:212:in `work_off'
/home/deployer/kramer/app/models/scheduler.rb:355:in `block (3 levels) in worker'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
/home/deployer/kramer/app/models/scheduler.rb:353:in `block (2 levels) in worker'
/home/deployer/kramer/app/models/scheduler.rb:349:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:349:in `block in worker'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321902 #27187] ERROR -- : No such file or directory @ utime_internal - /home/deployer/kramer/tmp/cache_file_store_production/504/450/.permissions_check.70325160.27187.949597 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `utime'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1052:in `block in touch'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:1049:in `touch'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:63:in `probe_stat_in'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:33:in `block in atomic_write'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/tempfile.rb:295:in `open'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/core_ext/file/atomic.rb:22:in `atomic_write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:83:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.321986 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.322048 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer/tmp (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.322202 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer/kramer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.322269 #27187] ERROR -- : File exists @ dir_s_mkdir - /home/deployer (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.322331 #27187] ERROR -- : File exists @ dir_s_mkdir - /home (Errno::EEXIST)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:208:in `block (2 levels) in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `reverse_each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:206:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
E, [2018-11-09T09:40:30.322406 #27187] ERROR -- : No such file or directory @ dir_s_mkdir - /home/deployer/kramer/tmp/cache_file_store_production/504/450 (Errno::ENOENT)
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:230:in `fu_mkdir'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:194:in `block in mkdir_p'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `each'
/home/deployer/.rvm/rubies/ruby-2.4.4/lib/ruby/2.4.0/fileutils.rb:191:in `mkdir_p'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:157:in `ensure_cache_path'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/file_store.rb:82:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache/strategy/local_cache.rb:119:in `write_entry'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:400:in `block in write'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `block in instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/notifications.rb:168:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:555:in `instrument'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/activesupport-5.1.5/lib/active_support/cache.rb:398:in `write'
/home/deployer/kramer/lib/cache.rb:35:in `write'
/home/deployer/kramer/app/models/application_model/has_cache.rb:60:in `cache_set'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `block in find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `tap'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:42:in `find_and_save_to_cache_by'
/home/deployer/kramer/app/models/application_model/can_lookup.rb:28:in `lookup'
/home/deployer/kramer/app/models/scheduler.rb:238:in `block (2 levels) in start_job'
/home/deployer/kramer/app/models/scheduler.rb:236:in `loop'
/home/deployer/kramer/app/models/scheduler.rb:236:in `block in start_job'
/home/deployer/.rvm/gems/ruby-2.4.4/gems/logging-2.2.2/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'
